swagger: "2.0"
info:
    title: The goakit example downstream service
    description: Archiver is a service that manages the content of HTTP responses
    version: 0.0.1
host: localhost:80
consumes:
    - application/json
    - application/xml
    - application/gob
produces:
    - application/json
    - application/xml
    - application/gob
paths:
    /archive:
        post:
            tags:
                - archiver
            summary: archive archiver
            description: Archive HTTP response
            operationId: archiver#archive
            parameters:
                - name: ArchiveRequestBody
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/ArchivePayload'
                    required:
                        - status
                        - body
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/GoaArchive'
            schemes:
                - http
    /archive/{id}:
        get:
            tags:
                - archiver
            summary: read archiver
            description: Read HTTP response from archive
            operationId: archiver#read
            parameters:
                - name: id
                  in: path
                  description: ID of archive
                  required: true
                  type: integer
                  minimum: 0
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/GoaArchive'
                "400":
                    description: Bad Request response.
                    schema:
                        $ref: '#/definitions/ArchiverReadBadRequestResponseBody'
                "404":
                    description: Not Found response.
                    schema:
                        $ref: '#/definitions/ArchiverReadNotFoundResponseBody'
            schemes:
                - http
    /health:
        get:
            tags:
                - health
            summary: show health
            description: Health check endpoint
            operationId: health#show
            produces:
                - text/plain
            responses:
                "200":
                    description: OK response.
                    schema:
                        type: string
            schemes:
                - http
definitions:
    ArchivePayload:
        title: ArchivePayload
        type: object
        properties:
            body:
                type: string
                description: HTTP response body content
                example: Numquam qui qui eligendi doloribus.
            status:
                type: integer
                description: HTTP status
                example: 200
                format: int64
                minimum: 0
        example:
            body: Placeat aspernatur ullam qui numquam quis numquam.
            status: 200
        required:
            - status
            - body
    ArchiverReadBadRequestResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: true
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: true
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: false
        description: read_bad_request_response_body result type (default view)
        example:
            fault: false
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: false
            timeout: true
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    ArchiverReadNotFoundResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: false
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: false
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: true
        description: read_not_found_response_body result type (default view)
        example:
            fault: true
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: true
            timeout: true
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    GoaArchive:
        title: 'Mediatype identifier: application/vnd.goa.archive; view=default'
        type: object
        properties:
            body:
                type: string
                description: HTTP response body content
                example: Harum autem mollitia optio.
            href:
                type: string
                description: The archive resouce href
                example: /archive/1
                pattern: ^/archive/[0-9]+$
            status:
                type: integer
                description: HTTP status
                example: 200
                format: int64
                minimum: 0
        description: ArchiveResponseBody result type (default view)
        example:
            body: Alias ipsa eum laborum ut quod.
            href: /archive/1
            status: 200
        required:
            - href
            - status
            - body
